<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ğ¡Ó©Ğ· Ğ¡Ğ°Ğ¹Ñ‹Ñ â€” Kazakhâ†”English Translation Battle</title>
    <meta name="description"
        content="1v1 online translation battle â€” Kazakh to English and back. Two modes: Speed Rush and Round Battle!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;900&family=Noto+Sans:wght@400;600;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #080c18;
            --bg-card: rgba(12, 18, 38, 0.92);
            --bg-card-light: rgba(20, 30, 60, 0.7);
            --border: rgba(80, 120, 255, 0.18);
            --border-bright: rgba(100, 160, 255, 0.35);
            --accent: #5b8cff;
            --accent-bright: #7eaaff;
            --accent2: #a97bff;
            --gold: #ffd666;
            --gold-dim: rgba(255, 214, 102, 0.15);
            --green: #4ce0a5;
            --green-dim: rgba(76, 224, 165, 0.12);
            --red: #ff5e7d;
            --red-dim: rgba(255, 94, 125, 0.12);
            --text: #e8ecf4;
            --text-dim: #6b7c9a;
            --text-muted: #3d4e6a;
            --r: 14px;
            --font: 'Outfit', 'Noto Sans', sans-serif;
        }

        html,
        body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: var(--font);
            background: var(--bg);
            color: var(--text);
        }

        /* â”€â”€â”€ Animated Background â”€â”€â”€ */
        #bg-fx {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background:
                radial-gradient(ellipse 80% 60% at 20% 30%, rgba(91, 140, 255, 0.06), transparent),
                radial-gradient(ellipse 60% 50% at 80% 70%, rgba(169, 123, 255, 0.05), transparent),
                var(--bg);
        }

        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            animation: orbFloat 20s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: 0;
        }

        .orb-1 {
            width: 400px;
            height: 400px;
            top: -100px;
            left: -80px;
            background: rgba(91, 140, 255, 0.08);
        }

        .orb-2 {
            width: 350px;
            height: 350px;
            bottom: -80px;
            right: -60px;
            background: rgba(169, 123, 255, 0.07);
            animation-delay: -8s;
        }

        .orb-3 {
            width: 250px;
            height: 250px;
            top: 40%;
            left: 50%;
            background: rgba(255, 214, 102, 0.04);
            animation-delay: -14s;
        }

        @keyframes orbFloat {
            0% {
                transform: translate(0, 0) scale(1);
            }

            50% {
                transform: translate(30px, -20px) scale(1.1);
            }

            100% {
                transform: translate(-20px, 15px) scale(0.95);
            }
        }

        /* â”€â”€â”€ Screens â”€â”€â”€ */
        .screen {
            position: fixed;
            inset: 0;
            z-index: 10;
            display: none;
            overflow-y: auto;
        }

        .screen.active {
            display: flex;
        }

        .screen-center {
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 24px;
        }

        /* â”€â”€â”€ Typography â”€â”€â”€ */
        .logo {
            font-size: clamp(2rem, 5.5vw, 3.2rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-bright), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
            text-align: center;
            line-height: 1.15;
        }

        .logo-kz {
            font-size: clamp(0.85rem, 2vw, 1.05rem);
            color: var(--text-dim);
            text-align: center;
        }

        .section-title {
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--accent-bright);
            margin-bottom: 14px;
        }

        /* â”€â”€â”€ Card â”€â”€â”€ */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--r);
            padding: 28px 30px;
            width: min(460px, 92vw);
            backdrop-filter: blur(18px);
            box-shadow: 0 6px 36px rgba(0, 0, 0, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.03);
        }

        /* â”€â”€â”€ Inputs â”€â”€â”€ */
        label {
            display: block;
            font-size: 0.72rem;
            font-weight: 700;
            color: var(--text-dim);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1.2px;
        }

        input[type="text"] {
            width: 100%;
            padding: 11px 14px;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            color: var(--text);
            font-family: var(--font);
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s;
        }

        input[type="text"]:focus {
            border-color: var(--accent);
        }

        input[type="text"]::placeholder {
            color: var(--text-muted);
        }

        .input-group {
            margin-bottom: 14px;
        }

        /* â”€â”€â”€ Buttons â”€â”€â”€ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-family: var(--font);
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.18s;
            width: 100%;
            letter-spacing: 0.5px;
        }

        .btn:active {
            transform: scale(0.97);
        }

        .btn:disabled {
            opacity: 0.45;
            pointer-events: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            color: #fff;
            box-shadow: 0 3px 18px rgba(91, 140, 255, 0.3);
        }

        .btn-primary:hover {
            box-shadow: 0 3px 28px rgba(91, 140, 255, 0.5);
        }

        .btn-gold {
            background: linear-gradient(135deg, #ffc940, #ff9f1a);
            color: #1a1000;
            box-shadow: 0 3px 18px rgba(255, 200, 64, 0.25);
        }

        .btn-ghost {
            background: rgba(255, 255, 255, 0.04);
            color: var(--accent-bright);
            border: 1px solid var(--border);
        }

        .btn-ghost:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .btn-sm {
            padding: 9px 18px;
            font-size: 0.85rem;
            width: auto;
        }

        .btn-row {
            display: flex;
            gap: 10px;
        }

        .or-line {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-muted);
            font-size: 0.75rem;
            margin: 16px 0;
        }

        .or-line::before,
        .or-line::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.06);
        }

        /* â”€â”€â”€ Room Code â”€â”€â”€ */
        .room-code-box {
            text-align: center;
            margin: 16px 0 6px;
        }

        .room-code-box .code {
            font-size: 2.2rem;
            font-weight: 900;
            letter-spacing: 8px;
            color: var(--gold);
            text-shadow: 0 0 24px rgba(255, 214, 102, 0.3);
        }

        .status-msg {
            text-align: center;
            font-size: 0.82rem;
            color: var(--text-dim);
            min-height: 18px;
            margin-top: 8px;
        }

        /* â”€â”€â”€ Mode Select â”€â”€â”€ */
        .mode-cards {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .mode-card {
            flex: 1;
            padding: 16px 14px;
            border-radius: 12px;
            cursor: pointer;
            border: 2px solid var(--border);
            background: rgba(255, 255, 255, 0.02);
            transition: all 0.2s;
            text-align: center;
        }

        .mode-card:hover {
            border-color: var(--accent);
            background: rgba(91, 140, 255, 0.06);
        }

        .mode-card.selected {
            border-color: var(--accent-bright);
            background: rgba(91, 140, 255, 0.1);
            box-shadow: 0 0 20px rgba(91, 140, 255, 0.15);
        }

        .mode-card .mode-icon {
            font-size: 1.8rem;
            margin-bottom: 6px;
        }

        .mode-card .mode-name {
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 3px;
        }

        .mode-card .mode-desc {
            font-size: 0.7rem;
            color: var(--text-dim);
            line-height: 1.35;
        }

        /* â”€â”€â”€ GAME Screen â”€â”€â”€ */
        #screen-game {
            flex-direction: column;
        }

        .game-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 20px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            z-index: 5;
            flex-shrink: 0;
        }

        .game-scores {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .score-block {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
        }

        .score-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .score-val {
            font-size: 1.3rem;
            font-variant-numeric: tabular-nums;
        }

        .vs-text {
            font-size: 0.7rem;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
        }

        .timer-block {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid var(--border);
            font-weight: 700;
            font-size: 1.1rem;
            font-variant-numeric: tabular-nums;
        }

        .timer-block.urgent {
            color: var(--red);
            border-color: rgba(255, 94, 125, 0.3);
            background: var(--red-dim);
        }

        .game-body {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            gap: 18px;
            position: relative;
        }

        /* â”€â”€â”€ Round Info â”€â”€â”€ */
        .round-badge {
            padding: 5px 16px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid var(--border);
            font-size: 0.78rem;
            font-weight: 600;
            color: var(--text-dim);
        }

        /* â”€â”€â”€ Question Card â”€â”€â”€ */
        .question-card {
            background: var(--bg-card);
            border: 1px solid var(--border-bright);
            border-radius: 16px;
            padding: 28px 36px;
            width: min(560px, 92vw);
            text-align: center;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.35);
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent), var(--accent2), var(--gold));
        }

        .q-direction {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 8px;
            background: rgba(91, 140, 255, 0.1);
            border: 1px solid rgba(91, 140, 255, 0.15);
            font-size: 0.72rem;
            font-weight: 700;
            color: var(--accent-bright);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 14px;
        }

        .q-word {
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            font-weight: 900;
            line-height: 1.3;
            margin-bottom: 6px;
            color: #fff;
        }

        .q-hint {
            font-size: 0.8rem;
            color: var(--text-dim);
            margin-bottom: 18px;
            font-style: italic;
        }

        .q-type {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .q-type-word {
            background: rgba(91, 140, 255, 0.12);
            color: var(--accent-bright);
        }

        .q-type-phrase {
            background: rgba(169, 123, 255, 0.12);
            color: var(--accent2);
        }

        .q-type-proverb {
            background: var(--gold-dim);
            color: var(--gold);
        }

        .answer-input-wrap {
            display: flex;
            gap: 10px;
            margin-top: 6px;
        }

        .answer-input-wrap input {
            flex: 1;
            padding: 13px 16px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.06);
            border: 2px solid rgba(255, 255, 255, 0.08);
            color: #fff;
            font-family: var(--font);
            font-size: 1.05rem;
            font-weight: 600;
            outline: none;
            transition: border-color 0.2s;
        }

        .answer-input-wrap input:focus {
            border-color: var(--accent);
        }

        .answer-input-wrap input::placeholder {
            color: var(--text-muted);
            font-weight: 400;
        }

        .answer-input-wrap .btn {
            width: auto;
            flex-shrink: 0;
        }

        /* â”€â”€â”€ Feedback flash â”€â”€â”€ */
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 60;
            pointer-events: none;
            font-size: 2.5rem;
            font-weight: 900;
            animation: feedbackPop 0.8s ease-out forwards;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        @keyframes feedbackPop {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.5);
            }

            30% {
                transform: translate(-50%, -50%) scale(1.2);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -80%) scale(1);
            }
        }

        .feedback.correct {
            color: var(--green);
        }

        .feedback.wrong {
            color: var(--red);
        }

        .feedback.opp-scored {
            color: var(--gold);
        }

        /* â”€â”€â”€ Opponent status line â”€â”€â”€ */
        .opp-status {
            font-size: 0.8rem;
            color: var(--text-dim);
            display: flex;
            align-items: center;
            gap: 6px;
            min-height: 22px;
        }

        .opp-status .dot-pulse {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--gold);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 1;
            }
        }

        /* â”€â”€â”€ Results Screen â”€â”€â”€ */
        .results-card {
            background: var(--bg-card);
            border: 1px solid var(--border-bright);
            border-radius: 16px;
            padding: 36px 40px;
            width: min(480px, 92vw);
            text-align: center;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 50px rgba(0, 0, 0, 0.5);
            animation: popIn 0.45s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from {
                transform: scale(0.7);
                opacity: 0;
            }
        }

        .results-card h1 {
            font-size: 2rem;
            margin-bottom: 4px;
        }

        .results-card .subtitle {
            color: var(--text-dim);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0 24px;
            font-size: 0.9rem;
        }

        .results-table th {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-dim);
            padding: 8px;
            border-bottom: 1px solid var(--border);
        }

        .results-table td {
            padding: 10px 8px;
        }

        .results-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.02);
        }

        .winner-row {
            color: var(--gold);
            font-weight: 700;
        }

        /* â”€â”€â”€ Disconnect â”€â”€â”€ */
        .disconnect-bar {
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            padding: 8px 22px;
            border-radius: 10px;
            background: var(--red-dim);
            border: 1px solid rgba(255, 94, 125, 0.3);
            color: var(--red);
            font-weight: 600;
            font-size: 0.85rem;
            display: none;
        }

        /* â”€â”€â”€ Scrollbar â”€â”€â”€ */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 3px;
        }

        /* â”€â”€â”€ Responsive â”€â”€â”€ */
        @media (max-width: 500px) {
            .card {
                padding: 22px 18px;
            }

            .question-card {
                padding: 20px 18px;
            }

            .mode-cards {
                flex-direction: column;
            }

            .game-header {
                padding: 10px 12px;
                flex-wrap: wrap;
                gap: 8px;
                justify-content: center;
            }

            .answer-input-wrap {
                flex-direction: column;
            }

            .answer-input-wrap .btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>

    <div id="bg-fx">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• LOBBY â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="screen-lobby" class="screen screen-center active">
        <div class="logo">ğŸ“– Ğ¡Ó©Ğ· Ğ¡Ğ°Ğ¹Ñ‹Ñ</div>
        <div class="logo-kz">Kazakh â†” English â€” Translation Battle</div>

        <div class="card">
            <div class="section-title">ğŸ® Battle Setup</div>

            <div class="input-group">
                <label for="inp-name">Your Name</label>
                <input type="text" id="inp-name" placeholder="ĞÑ‚Ñ‹Ò£Ñ‹Ğ· / Your name" maxlength="16">
            </div>

            <div class="section-title" style="margin-top:18px; font-size:0.85rem;">Choose Mode</div>
            <div class="mode-cards">
                <div class="mode-card selected" data-mode="speed" id="mc-speed">
                    <div class="mode-icon">â±ï¸</div>
                    <div class="mode-name">Speed Rush</div>
                    <div class="mode-desc">90 seconds â€” translate as many as you can!</div>
                </div>
                <div class="mode-card" data-mode="rounds" id="mc-rounds">
                    <div class="mode-icon">ğŸ¯</div>
                    <div class="mode-name">Round Battle</div>
                    <div class="mode-desc">10 rounds â€” faster answer = more points</div>
                </div>
            </div>

            <button class="btn btn-primary" id="btn-create">ğŸ° Create Room</button>

            <div id="room-code-area" style="display:none">
                <div class="room-code-box">
                    <label>Share this code with your opponent</label>
                    <div class="code" id="room-code-val"></div>
                </div>
                <p class="status-msg" id="host-wait">Waiting for opponentâ€¦</p>
            </div>

            <div class="or-line">or</div>

            <button class="btn btn-ghost" id="btn-show-join">ğŸ”— Join a Room</button>
            <div id="join-area" style="display:none">
                <div class="input-group" style="margin-top:12px">
                    <label for="inp-code">Room Code</label>
                    <input type="text" id="inp-code" placeholder="Enter 5-letter code" maxlength="8"
                        style="text-transform:uppercase; letter-spacing:3px; text-align:center; font-weight:700;">
                </div>
                <button class="btn btn-gold" id="btn-join">âš¡ Join</button>
            </div>

            <p class="status-msg" id="lobby-status"></p>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• GAME â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="screen-game" class="screen">
        <!-- Header -->
        <div class="game-header">
            <div class="game-scores">
                <div class="score-block">
                    <div class="score-dot" id="dot-me"
                        style="background:var(--accent);box-shadow:0 0 6px var(--accent)"></div>
                    <span id="name-me">You</span>
                    <span class="score-val" id="score-me">0</span>
                </div>
                <span class="vs-text">VS</span>
                <div class="score-block">
                    <div class="score-dot" id="dot-opp" style="background:var(--red);box-shadow:0 0 6px var(--red)">
                    </div>
                    <span id="name-opp">Opponent</span>
                    <span class="score-val" id="score-opp">0</span>
                </div>
            </div>
            <div class="timer-block" id="timer-display">
                <span>â±ï¸</span> <span id="timer-val">1:30</span>
            </div>
        </div>

        <!-- Body -->
        <div class="game-body">
            <div class="round-badge" id="round-badge">Speed Rush â€” Translate as many as you can!</div>

            <div class="question-card" id="q-card">
                <div class="q-type q-type-word" id="q-type">WORD</div>
                <div class="q-direction" id="q-dir">ğŸ‡°ğŸ‡¿ Kazakh â†’ English ğŸ‡¬ğŸ‡§</div>
                <div class="q-word" id="q-word">ĞœÑ‹ÑÑ‹Ò›</div>
                <div class="q-hint" id="q-hint"></div>
                <div class="answer-input-wrap">
                    <input type="text" id="inp-answer" placeholder="Type translationâ€¦" autocomplete="off"
                        spellcheck="false">
                    <button class="btn btn-primary btn-sm" id="btn-submit">â†’</button>
                </div>
            </div>

            <div class="opp-status" id="opp-status"></div>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• RESULTS â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="screen-results" class="screen screen-center">
        <div class="results-card">
            <h1 id="res-title">ğŸ† You Win!</h1>
            <p class="subtitle" id="res-subtitle">You scored higher!</p>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>Score</th>
                        <th>Correct</th>
                    </tr>
                </thead>
                <tbody id="res-tbody"></tbody>
            </table>
            <button class="btn btn-primary" id="btn-again" style="margin-top:8px">ğŸ”„ Play Again</button>
        </div>
    </div>

    <div class="disconnect-bar" id="disconnect-bar">âš ï¸ Opponent disconnected</div>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // DICTIONARY â€” Kazakh â†” English
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const DICT = {
            words: [
                // Animals
                { kz: 'Ğ¼Ñ‹ÑÑ‹Ò›', en: 'cat' },
                { kz: 'Ğ¸Ñ‚', en: 'dog' },
                { kz: 'Ğ¶Ñ‹Ğ»Ò›Ñ‹', en: 'horse' },
                { kz: 'Ñ‚Ò¯Ğ¹Ğµ', en: 'camel' },
                { kz: 'Ò›Ğ¾Ğ¹', en: 'sheep' },
                { kz: 'Ğ±Ò¯Ñ€ĞºÑ–Ñ‚', en: 'eagle' },
                { kz: 'Ñ‚Ò¯Ğ»ĞºÑ–', en: 'fox' },
                { kz: 'Ğ°Ñ', en: 'bear' },
                { kz: 'Ò›Ğ°ÑÒ›Ñ‹Ñ€', en: 'wolf' },
                { kz: 'Ñ‚Ğ°ÑƒÑ‹Ò›', en: 'chicken' },
                { kz: 'Ğ±Ğ°Ğ»Ñ‹Ò›', en: 'fish' },
                { kz: 'Ò›Ò±Ñ', en: 'bird' },
                { kz: 'Ğ¶Ñ‹Ğ»Ğ°Ğ½', en: 'snake' },
                { kz: 'ÑĞ¸Ñ‹Ñ€', en: 'cow' },
                { kz: 'ĞµÑˆĞºÑ–', en: 'goat' },

                // Nature
                { kz: 'ĞºÒ¯Ğ½', en: 'sun' },
                { kz: 'Ğ°Ğ¹', en: 'moon' },
                { kz: 'Ğ¶Ò±Ğ»Ğ´Ñ‹Ğ·', en: 'star' },
                { kz: 'Ñ‚Ğ°Ñƒ', en: 'mountain' },
                { kz: 'Ó©Ğ·ĞµĞ½', en: 'river' },
                { kz: 'ĞºÓ©Ğ»', en: 'lake' },
                { kz: 'Ñ‚ĞµÒ£Ñ–Ğ·', en: 'sea' },
                { kz: 'Ğ¾Ñ€Ğ¼Ğ°Ğ½', en: 'forest' },
                { kz: 'Ğ´Ğ°Ğ»Ğ°', en: 'steppe' },
                { kz: 'Ğ¶Ğ°Ò£Ğ±Ñ‹Ñ€', en: 'rain' },
                { kz: 'Ò›Ğ°Ñ€', en: 'snow' },
                { kz: 'Ğ¶ĞµĞ»', en: 'wind' },
                { kz: 'Ğ°ÑĞ¿Ğ°Ğ½', en: 'sky' },
                { kz: 'Ğ¶ĞµÑ€', en: 'earth' },
                { kz: 'Ğ¾Ñ‚', en: 'fire' },
                { kz: 'ÑÑƒ', en: 'water' },
                { kz: 'Ğ³Ò¯Ğ»', en: 'flower' },
                { kz: 'Ğ°Ò“Ğ°Ñˆ', en: 'tree' },
                { kz: 'Ñ‚Ğ°Ñ', en: 'stone' },

                // Family
                { kz: 'Ğ°Ğ½Ğ°', en: 'mother' },
                { kz: 'Ó™ĞºĞµ', en: 'father' },
                { kz: 'Ğ±Ğ°Ğ»Ğ°', en: 'child' },
                { kz: 'Ò±Ğ»', en: 'son' },
                { kz: 'Ò›Ñ‹Ğ·', en: 'daughter' },
                { kz: 'Ğ°Ò“Ğ°', en: 'brother' },
                { kz: 'Ó™Ğ¶Ğµ', en: 'grandmother' },
                { kz: 'Ğ°Ñ‚Ğ°', en: 'grandfather' },
                { kz: 'Ğ´Ğ¾Ñ', en: 'friend' },
                { kz: 'Ğ°Ğ´Ğ°Ğ¼', en: 'person' },

                // Food
                { kz: 'Ğ½Ğ°Ğ½', en: 'bread' },
                { kz: 'ĞµÑ‚', en: 'meat' },
                { kz: 'ÑÒ¯Ñ‚', en: 'milk' },
                { kz: 'Ğ°Ğ»Ğ¼Ğ°', en: 'apple' },
                { kz: 'Ñ‚Ò±Ğ·', en: 'salt' },
                { kz: 'ÑˆĞ°Ğ¹', en: 'tea' },

                // Colors
                { kz: 'Ò›Ñ‹Ğ·Ñ‹Ğ»', en: 'red' },
                { kz: 'ĞºÓ©Ğº', en: 'blue' },
                { kz: 'Ğ¶Ğ°ÑÑ‹Ğ»', en: 'green' },
                { kz: 'Ğ°Ò›', en: 'white' },
                { kz: 'Ò›Ğ°Ñ€Ğ°', en: 'black' },
                { kz: 'ÑĞ°Ñ€Ñ‹', en: 'yellow' },

                // Body
                { kz: 'Ğ±Ğ°Ñ', en: 'head' },
                { kz: 'ĞºÓ©Ğ·', en: 'eye' },
                { kz: 'Ğ¶Ò¯Ñ€ĞµĞº', en: 'heart' },
                { kz: 'Ò›Ğ¾Ğ»', en: 'hand' },
                { kz: 'Ğ°ÑÒ›', en: 'foot' },

                // Abstract / Other
                { kz: 'ĞºÑ–Ñ‚Ğ°Ğ¿', en: 'book' },
                { kz: 'Ò¯Ğ¹', en: 'house' },
                { kz: 'Ğ¶Ğ¾Ğ»', en: 'road' },
                { kz: 'ÑƒĞ°Ò›Ñ‹Ñ‚', en: 'time' },
                { kz: 'Ñ‚Ñ–Ğ»', en: 'language' },
                { kz: 'ĞºÒ¯Ñˆ', en: 'power' },
                { kz: 'Ğ±Ğ°Ò›Ñ‹Ñ‚', en: 'happiness' },
                { kz: 'Ğ¼Ğ°Ñ…Ğ°Ğ±Ğ±Ğ°Ñ‚', en: 'love' },
                { kz: 'ĞµĞ»', en: 'country' },
                { kz: 'Ğ±Ñ–Ğ»Ñ–Ğ¼', en: 'knowledge' },
                { kz: 'Ğ¶Ò±Ğ¼Ñ‹Ñ', en: 'work' },
                { kz: 'Ğ¼ĞµĞºÑ‚ĞµĞ¿', en: 'school' },
            ],

            phrases: [
                { kz: 'ÑÓ™Ğ»ĞµĞ¼ĞµÑ‚ÑÑ–Ğ· Ğ±Ğµ', en: 'hello' },
                { kz: 'Ñ€Ğ°Ò›Ğ¼ĞµÑ‚', en: 'thank you' },
                { kz: 'ĞºĞµÑˆÑ–Ñ€Ñ–Ò£Ñ–Ğ·', en: 'excuse me' },
                { kz: 'Ò›Ğ°Ğ»Ñ‹Ò£Ñ‹Ğ· Ò›Ğ°Ğ»Ğ°Ğ¹', en: 'how are you' },
                { kz: 'Ğ¶Ğ°Ò›ÑÑ‹', en: 'good' },
                { kz: 'Ğ¸Ó™', en: 'yes' },
                { kz: 'Ğ¶Ğ¾Ò›', en: 'no' },
                { kz: 'ÑĞ°Ñƒ Ğ±Ğ¾Ğ»Ñ‹Ò£Ñ‹Ğ·', en: 'goodbye' },
                { kz: 'Ğ¼ĞµĞ½Ñ–Ò£ Ğ°Ñ‚Ñ‹Ğ¼', en: 'my name is' },
                { kz: 'Ò›Ğ°Ğ¹Ñ‹Ñ€Ğ»Ñ‹ Ñ‚Ğ°Ò£', en: 'good morning' },
                { kz: 'Ò›Ğ°Ğ¹Ñ‹Ñ€Ğ»Ñ‹ ĞºĞµÑˆ', en: 'good evening' },
                { kz: 'Ñ‚Ğ°Ğ¼Ğ°ÑˆĞ°', en: 'wonderful' },
                { kz: 'ĞºÓ©Ğ¼ĞµĞºÑ‚ĞµÑÑ–Ò£Ñ–Ğ·ÑˆÑ–', en: 'please help' },
                { kz: 'Ğ¼ĞµĞ½ Ñ‚Ò¯ÑÑ–Ğ½Ğ±ĞµĞ´Ñ–Ğ¼', en: 'i did not understand' },
                { kz: 'Ò›Ğ°Ğ½ÑˆĞ° Ñ‚Ò±Ñ€Ğ°Ğ´Ñ‹', en: 'how much does it cost' },
            ],

            proverbs: [
                { kz: 'ĞÑ‚Ğ°Ğ½ â€” ĞµĞ»Ğ´Ñ–Ò£ Ğ°Ğ½Ğ°ÑÑ‹', en: 'homeland is the mother of the nation' },
                { kz: 'Ğ‘Ñ–Ğ»Ñ–Ğ¼ â€” Ğ±Ğ°Ò“Ğ°Ğ»Ñ‹ Ò›Ğ°Ğ·Ñ‹Ğ½Ğ°', en: 'knowledge is a precious treasure' },
                { kz: 'Ğ¢Ñ–Ğ» â€” Ğ´Ğ¾ÑÑ‚Ñ‹Ò›Ñ‚Ñ‹Ò£ ĞºÑ–Ğ»Ñ‚Ñ–', en: 'language is the key to friendship' },
                { kz: 'Ğ•Ò£Ğ±ĞµĞº ĞµÑ‚ÑĞµÒ£ â€” ĞµÑ€Ñ–Ğ½Ğ±ĞµĞ¹, Ñ‚Ğ¾ÑĞ´Ñ‹ Ò›Ğ°Ñ€Ğ½Ñ‹Ò£ Ñ‚Ñ–Ğ»ĞµĞ½Ğ±ĞµĞ¹', en: 'if you work hard you will eat without begging' },
                { kz: 'ĞÒ“Ğ°Ñˆ Ñ‚Ğ°Ğ¼Ñ‹Ñ€Ñ‹Ğ¼ĞµĞ½ Ğ¼Ñ‹Ò›Ñ‚Ñ‹', en: 'a tree is strong by its roots' },
                { kz: 'Ğ”Ğ¾Ñ â€” Ğ±Ğ°ÑÒ›Ğ° Ğ±Ñ–Ñ€ Ğ¶Ğ°Ğ½', en: 'a friend is another soul' },
                { kz: 'Ğ¡Ğ°Ğ±Ñ‹Ñ€ Ñ‚Ò¯Ğ±Ñ– â€” ÑĞ°Ñ€Ñ‹ Ğ°Ğ»Ñ‚Ñ‹Ğ½', en: 'patience is golden' },
                { kz: 'Ğ•Ñ€ â€” ĞµĞ»Ñ–Ğ½Ğ´Ğµ, Ğ³Ò¯Ğ» â€” Ğ¶ĞµÑ€Ñ–Ğ½Ğ´Ğµ', en: 'a hero is in his homeland a flower in its soil' },
                { kz: 'Ğ–Ñ–Ğ³Ñ–Ñ‚Ñ‚Ñ–Ò£ Ğ±Ğ°Ò“Ğ°ÑÑ‹Ğ½ Ğ¶Ñ–Ğ³Ñ–Ñ‚ Ğ±Ñ–Ğ»ĞµĞ´Ñ–', en: 'only a brave man knows the value of a brave man' },
                { kz: 'Ğ‘Ñ–Ñ€Ğ»Ñ–Ğº Ğ±Ğ°Ñ€ Ğ¶ĞµÑ€Ğ´Ğµ â€” Ñ‚Ñ–Ñ€Ğ»Ñ–Ğº Ğ±Ğ°Ñ€', en: 'where there is unity there is life' },
                { kz: 'ĞÑ â€” Ğ°Ğ´Ğ°Ğ¼Ğ½Ñ‹Ò£ Ğ°Ñ€Ò›Ğ°ÑƒÑ‹', en: 'food is the basis of humans' },
                { kz: 'ĞĞ½Ğ° ÑÒ¯Ñ‚Ñ– â€” Ğ±Ğ°Ğ»', en: 'mothers milk is honey' },
            ]
        };

        // Flatten all entries with type tags
        const ALL_ITEMS = [
            ...DICT.words.map(w => ({ ...w, type: 'word' })),
            ...DICT.phrases.map(p => ({ ...p, type: 'phrase' })),
            ...DICT.proverbs.map(p => ({ ...p, type: 'proverb' }))
        ];

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // GAME CONFIG
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const SPEED_DURATION = 90; // seconds
        const ROUND_COUNT = 10;
        const ROUND_TIME = 15; // seconds per round

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // STATE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let isHost = false;
        let peer = null;
        let conn = null;
        let myName = 'Player';
        let oppName = 'Opponent';
        let gameMode = 'speed'; // 'speed' | 'rounds'
